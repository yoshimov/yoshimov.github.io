<div class="widget-wrapper">
{% include plusone.html %}
{% include googleplus-widget.html %}
</div>

<div class="widget-wrapper">
<h3 class="widget-title">Recent Posts</h3>
<ul>
{% for post in site.posts limit:10 %}
    <li><a href="{{ site.production_url }}{{post.url}}">{{ post.title }}</a></li>
{% endfor %}
</ul>
</div>

<div class="widget-wrapper">
<h3 class="widget-title">Archive</h3>
<ul>
{% for post in site.posts %}
    {% capture next %}{{ post.date | date: "%B %Y" }}{% endcapture %}
    {% if next != current %}
        <li><a href="{{ site.production_url }}{{ site.JB.archive_path }}#{{ post.date | date: "%B%Y" }}">{{ next }}</a></li>
        {% assign current = next %}
    {% endif %}
{% endfor %}
</ul>
</div>

<div class="widget-wrapper">
<h3 class="widget-title">Categories</h3>
<ul>
  {% assign categories_list = site.categories %}
  {% if categories_list.first[0] == null %}
    {% for category in categories_list %} 
    	<a href="{{ BASE_PATH }}{{ site.JB.categories_path }}#{{ category }}-ref">
    		{{ category | join: "/" }} <span>{{ site.categories[category].size }}</span>
    	</a>&nbsp;
    {% endfor %}
  {% else %}
    {% for category in categories_list %} 
    	<a href="{{ BASE_PATH }}{{ site.JB.categories_path }}#{{ category[0] }}-ref">
    		{{ category[0] | join: "/" }} <span>{{ category[1].size }}</span>
    	</a>&nbsp;
    {% endfor %}
  {% endif %}
</ul>
</div>

<div class="widget-wrapper">
<h3 class="widget-title">Tags</h3>
<ul>
  {% assign tags_list = site.tags %}
  {% if tags_list.first[0] == null %}
    {% for tag in tags_list %} 
    	<a href="{{ BASE_PATH }}{{ site.JB.tags_path }}#{{ tag }}-ref">{{ tag }} <span>{{ site.tags[tag].size }}</span></a>&nbsp;
    {% endfor %}
  {% else %}
    {% for tag in tags_list %} 
    	<a href="{{ BASE_PATH }}{{ site.JB.tags_path }}#{{ tag[0] }}-ref">{{ tag[0] }} <span>{{ tag[1].size }}</span></a>&nbsp;
    {% endfor %}
  {% endif %}

</ul>
</div>
